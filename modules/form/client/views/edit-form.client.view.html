<md-card layout>
    <md-card-content flex="70">

        <md-button class="md-raised md-primary" ng-click="vm.save()">Save</md-button>

        <md-list
            dnd-list="vm.formControls"
            class="darker drop-list">
            <md-list-item
                ng-repeat="control in vm.formControls"
                dnd-draggable="control"
                dnd-moved="vm.formControls.splice($index, 1)"
                dnd-effect-allowed="move">

                <dnd-nodrag flex>
                    <div layout layout-align="space-between">
                        <div dnd-handle class="handle">
                            <i class="material-icons">&#xE25D;</i>
                        </div>
                        
                        <div flex>
                            <render:edit directive="{{control.type}}" control="control" collection="vm.formControls"></render:edit>
                        </div>
                    </div>
                </dnd-nodrag>
            </md-list-item>

            <md-list-item class="dndPlaceholder">
            </md-list-item>
        </md-list>
    </md-card-content>

    <add-control flex></add-control>
    <div id="popupContainer"></div>
</md-card>